<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

	<head>
		<title>XDict Reference </title>
		<meta name="AppleTitle" content="XDict Reference " />

		<meta http-equiv="content-type" content="text/html;charset=utf-8" />
		<link href="assets/default.css" type="text/css" rel="stylesheet" media="all" />
        <link href="assets/applescript.css" type="text/css" rel="stylesheet" media="all" />
		<meta name="keywords" content="XDict, AppleScript" />
		<script type="text/javascript" src="assets-helpbook/run_helpscript.js"></script>
		<script type="text/javascript" src="assets/navibar-jump.js"></script>
        <link id="helpviewer-handler-helper" href="assets-helpbook/helpviewer-handler-helper.scpt" />
        <script type="text/javascript" src="assets-helpbook/helpviewer-handler-enable.js"></script>
        <link href="./" id="HelpBookRoot" />
	</head>

	<body>
		<div id="navi-bar">
			<div class="edit-script-link">
				<a onclick="return runHelpScriptWithBundleRoot(this)" href="assets-helpbook/editScript.scpt">Edit Script</a>
			</div>
			<div class="left-contents">
			<div class="to-root">
				<!-- InstanceBeginEditable name="to-root" --><!-- InstanceEndEditable -->
			</div>
			<select onchange="navibarJump(this)">
<option value="">
§
</option>
<option value="#Example">
Example
</option>
<option value="#Constructer_Methods">
Constructer Methods
</option>
<option value="#make">
- make
</option>
<option value="#make_with_pairs">
- make_with_pairs
</option>
<option value="#make_with_lists">
- make_with_lists
</option>
<option value="#make_with_xlists">
- make_with_xlists
</option>
<option value="#Instance_Methods">
Instance Methods
</option>
<option value="#value_for_key">
- value_for_key
</option>
<option value="#key_for_value">
- key_for_value
</option>
<option value="#set_value">
- set_value
</option>
<option value="#has_key">
- has_key
</option>
<option value="#remove_for_key">
- remove_for_key
</option>
<option value="#all_keys">
- all_keys
</option>
<option value="#all_values">
- all_values
</option>
<option value="#count_keys">
- count_keys
</option>
<option value="#forget">
- forget
</option>
<option value="#Setting_and_Getting_Comparators">
Setting and Getting Comparators
</option>
<option value="#set_key_comparator">
- set_key_comparator
</option>
<option value="#set_value_comparator">
- set_value_comparator
</option>
<option value="#key_comparator">
- key_comparator
</option>
<option value="#value_comparator">
- value_comparator
</option>
<option value="#Obtain_Iterator_Object">
Obtain Iterator Object
</option>
<option value="#iterator">
- iterator
</option>
<option value="#Methods_of_Iterator_Object">
Methods of Iterator Object
</option>
<option value="#has_next">
- has_next
</option>
<option value="#next">
- next
</option>
<option value="#reset">
- reset
</option>
<option value="#Loop_with_Script_Object">
Loop with Script Object
</option>
<option value="#each">
- each
</option>
<option value="#map">
- map
</option>
<option value="#map_as_list">
- map_as_list
</option>
<option value="#Debugging">
Debugging
</option>
<option value="#dump">
- dump
</option>
</select>
			</div>
		</div>
		<!-- InstanceBeginEditable name="prev-next-item" --><!-- InstanceEndEditable -->
		<div id="contents">
		<h1>XDict Reference </h1>
<ul>
<li>Version : 1.7.2</li>
<li>Author : Tetsuro KURITA <a href="mailto:scriptfactory@mac.com">scriptfactory@mac.com</a></li>
<li>Requirements : OS X 10.9 or later</li>
<li><a href="http://www.script-factory.net/XModules/XDict/en/index.html">Home page</a> || <a href="http://www.script-factory.net/XModules/XDict/changelog.html">ChangeLog</a> || <a href="https://github.com/tkurita/XDict.scptd">Repository</a> </li>
</ul>
<p>XDict is a module of AppleScript to provides associative list type data collection. The associateve list is a collection of pairs of keys and values.</p>
<p>AppleScript's record class is similar to the associative list.But record object can do followings :</p>
<ul>
<li>Can't append a label at script run time.</li>
<li>Can't specifiy a label using a variable.</li>
</ul>
<p>XDict allows to avoid these limitations.</p>
<p>The method to search keys in XDict is linear search. This means large number of keys cause to make performance slowdown. A few hundred of keys may not be serious problems.A few thousand of keys will cause low performance.</p>
<p>On the other hand, any kind of objects (not only text) can be accept as keys,for example object spefifiers and script objects and records.</p>
<h2 id="Example">Example</h2>
<div class="sourceCode">
<div class="scriptButton">
    <input type="button" value="Open this script" onclick="document.location = this.src" src="applescript://com.apple.scripteditor?action=new&amp;script=use%20XDict%20:%20script%20%22XDict%22%0D%0D(*%20Make%20Instances%20*)%0Dset%20empty_dict%20to%20make%20XDict%0Dset%20a_dict%20to%20XDict%27s%20make_with_lists(%7B%22key1%22,%20%22key2%22%7D,%20%7B%22value1%22,%20%22value2%22%7D)%0Dset%20a_dict%20to%20XDict%27s%20make_with_pairs(%7B%7B%22key1%22,%20%22value1%22%7D,%20%7B%22key2%22,%20%22value2%22%7D%7D)%0D%0D(*%20obtain%20value%20*)%0Dlog%20a_dict%27s%20value_for_key(%22key1%22)%0D--result%20:%20%22value1%22%0Dtry%0D%09a_dict%27s%20value_for_key(%22key3%22)%0Don%20error%20number%20900%0D%09log%20%22No%20value%20associated%20with%20key3%22%0Dend%20try%0D%0D(*%20Reverse%20Search%20*)%0Dlog%20a_dict%27s%20key_for_value(%22value2%22)%20--%20result%20:%20%22key2%22%0D%0D(*%20Non%20string%20values%20can%20be%20used%20as%20keys%20*)%0Dscript%20scriptA%0Dend%20script%0D%0Dscript%20scriptB%0Dend%20script%0D%0Da_dict%27s%20set_value(scriptA,%20%22value3%22)%0Dlog%20a_dict%27s%20value_for_key(scriptA)%20--result%20:%20%22value3%22%0Dtry%0D%09a_dict%27s%20value_for_key(scriptB)%0Don%20error%20number%20900%0D%09log%20%22No%20value%20associated%20with%20scriptB%22%0Dend%20try%0D%0D(*%20Iterator%20*)%0Dset%20dict_iterator%20to%20a_dict%27s%20iterator()%0Drepeat%20while%20dict_iterator%27s%20has_next()%0D%09set%20%7Ba_key,%20a_value%7D%20to%20dict_iterator%27s%20next()%0Dend%20repeat%0D%0D(*%20Loop%20with%20a%20Script%20Object%20*)%0Dscript%20DictScanner%0D%09on%20do(%7Ba_key,%20a_value%7D)%0D%09%09log%20a_key%0D%09%09log%20a_value%0D%09%09return%20true%0D%09end%20do%0Dend%20script%0D%0Da_dict%27s%20each(DictScanner)%0D%0Dscript%20ValueExtractor%0D%09on%20do(%7Ba_key,%20a_value%7D)%0D%09%09return%20a_value%0D%09end%20do%0Dend%20script%0D%0Dset%20a_xlist%20to%20a_dict%27s%20map(ValueExtractor)%0D%0D(*%20Dump%20the%20Contents%20for%20Debugging%20*)%0Dlog%20a_dict%27s%20remove_for_key(scriptA)%20--%20result%20:%20true%0Da_dict%27s%20dump()%0D(*%20result%20:%0D%22key1%09-%3E%09value1%0Dkey2%09-%3E%09value2%0D%22%0D*)" />
</div><div>
<span class="langKeyword">use</span> <span class="userDefine">XDict</span><span class="normal"> : </span><span class="className">script</span><span class="normal"> &quot;XDict&quot;</span>
</div>
<br />
<div>
<span class="comment">(* Make Instances *)</span>
</div>
<div>
<span class="langKeyword">set</span> <span class="userDefine">empty_dict</span> <span class="langKeyword">to</span> <span class="commandName">make</span> <span class="userDefine">XDict</span>
</div>
<div>
<span class="langKeyword">set</span> <span class="userDefine">a_dict</span> <span class="langKeyword">to</span> <span class="userDefine">XDict's</span> <span class="userDefine">make_with_lists</span><span class="normal">({&quot;key1&quot;, &quot;key2&quot;}, {&quot;value1&quot;, &quot;value2&quot;})</span>
</div>
<div>
<span class="langKeyword">set</span> <span class="userDefine">a_dict</span> <span class="langKeyword">to</span> <span class="userDefine">XDict's</span> <span class="userDefine">make_with_pairs</span><span class="normal">({{&quot;key1&quot;, &quot;value1&quot;}, {&quot;key2&quot;, &quot;value2&quot;}})</span>
</div>
<br />
<div>
<span class="comment">(* obtain value *)</span>
</div>
<div>
<span class="commandName">log</span> <span class="userDefine">a_dict's</span> <span class="userDefine">value_for_key</span><span class="normal">(&quot;key1&quot;)</span>
</div>
<div>
<span class="comment">--result : &quot;value1&quot;</span>
</div>
<div>
<span class="langKeyword">try</span>
</div>
<div style="text-indent:4ex;">
<span class="userDefine">a_dict's</span> <span class="userDefine">value_for_key</span><span class="normal">(&quot;key3&quot;)</span>
</div>
<div>
<span class="langKeyword">on</span> <span class="langKeyword">error</span> <span class="appKeyword">number</span><span class="normal"> 900</span>
</div>
<div style="text-indent:4ex;">
<span class="commandName">log</span><span class="normal"> &quot;No value associated with key3&quot;</span>
</div>
<div>
<span class="langKeyword">end</span> <span class="langKeyword">try</span>
</div>
<br />
<div>
<span class="comment">(* Reverse Search *)</span>
</div>
<div>
<span class="commandName">log</span> <span class="userDefine">a_dict's</span> <span class="userDefine">key_for_value</span><span class="normal">(&quot;value2&quot;) </span><span class="comment">-- result : &quot;key2&quot;</span>
</div>
<br />
<div>
<span class="comment">(* Non string values can be used as keys *)</span>
</div>
<div>
<span class="langKeyword">script</span> <span class="userDefine">scriptA</span>
</div>
<div>
<span class="langKeyword">end</span> <span class="langKeyword">script</span>
</div>
<br />
<div>
<span class="langKeyword">script</span> <span class="userDefine">scriptB</span>
</div>
<div>
<span class="langKeyword">end</span> <span class="langKeyword">script</span>
</div>
<br />
<div>
<span class="userDefine">a_dict's</span> <span class="userDefine">set_value</span><span class="normal">(</span><span class="userDefine">scriptA</span><span class="normal">, &quot;value3&quot;)</span>
</div>
<div>
<span class="commandName">log</span> <span class="userDefine">a_dict's</span> <span class="userDefine">value_for_key</span><span class="normal">(</span><span class="userDefine">scriptA</span><span class="normal">) </span><span class="comment">--result : &quot;value3&quot;</span>
</div>
<div>
<span class="langKeyword">try</span>
</div>
<div style="text-indent:4ex;">
<span class="userDefine">a_dict's</span> <span class="userDefine">value_for_key</span><span class="normal">(</span><span class="userDefine">scriptB</span><span class="normal">)</span>
</div>
<div>
<span class="langKeyword">on</span> <span class="langKeyword">error</span> <span class="appKeyword">number</span><span class="normal"> 900</span>
</div>
<div style="text-indent:4ex;">
<span class="commandName">log</span><span class="normal"> &quot;No value associated with scriptB&quot;</span>
</div>
<div>
<span class="langKeyword">end</span> <span class="langKeyword">try</span>
</div>
<br />
<div>
<span class="comment">(* Iterator *)</span>
</div>
<div>
<span class="langKeyword">set</span> <span class="userDefine">dict_iterator</span> <span class="langKeyword">to</span> <span class="userDefine">a_dict's</span> <span class="userDefine">iterator</span><span class="normal">()</span>
</div>
<div>
<span class="langKeyword">repeat</span> <span class="langKeyword">while</span> <span class="userDefine">dict_iterator's</span> <span class="userDefine">has_next</span><span class="normal">()</span>
</div>
<div style="text-indent:4ex;">
<span class="langKeyword">set</span><span class="normal"> {</span><span class="userDefine">a_key</span><span class="normal">, </span><span class="userDefine">a_value</span><span class="normal">} </span><span class="langKeyword">to</span> <span class="userDefine">dict_iterator's</span> <span class="userDefine">next</span><span class="normal">()</span>
</div>
<div>
<span class="langKeyword">end</span> <span class="langKeyword">repeat</span>
</div>
<br />
<div>
<span class="comment">(* Loop with a Script Object *)</span>
</div>
<div>
<span class="langKeyword">script</span> <span class="userDefine">DictScanner</span>
</div>
<div style="text-indent:4ex;">
<span class="langKeyword">on</span> <span class="userDefine">do</span><span class="normal">({</span><span class="userDefine">a_key</span><span class="normal">, </span><span class="userDefine">a_value</span><span class="normal">})</span>
</div>
<div style="text-indent:8ex;">
<span class="commandName">log</span> <span class="userDefine">a_key</span>
</div>
<div style="text-indent:8ex;">
<span class="commandName">log</span> <span class="userDefine">a_value</span>
</div>
<div style="text-indent:8ex;">
<span class="langKeyword">return</span> <span class="enumeratedValues">true</span>
</div>
<div style="text-indent:4ex;">
<span class="langKeyword">end</span> <span class="userDefine">do</span>
</div>
<div>
<span class="langKeyword">end</span> <span class="langKeyword">script</span>
</div>
<br />
<div>
<span class="userDefine">a_dict's</span> <span class="userDefine">each</span><span class="normal">(</span><span class="userDefine">DictScanner</span><span class="normal">)</span>
</div>
<br />
<div>
<span class="langKeyword">script</span> <span class="userDefine">ValueExtractor</span>
</div>
<div style="text-indent:4ex;">
<span class="langKeyword">on</span> <span class="userDefine">do</span><span class="normal">({</span><span class="userDefine">a_key</span><span class="normal">, </span><span class="userDefine">a_value</span><span class="normal">})</span>
</div>
<div style="text-indent:8ex;">
<span class="langKeyword">return</span> <span class="userDefine">a_value</span>
</div>
<div style="text-indent:4ex;">
<span class="langKeyword">end</span> <span class="userDefine">do</span>
</div>
<div>
<span class="langKeyword">end</span> <span class="langKeyword">script</span>
</div>
<br />
<div>
<span class="langKeyword">set</span> <span class="userDefine">a_xlist</span> <span class="langKeyword">to</span> <span class="userDefine">a_dict's</span> <span class="userDefine">map</span><span class="normal">(</span><span class="userDefine">ValueExtractor</span><span class="normal">)</span>
</div>
<br />
<div>
<span class="comment">(* Dump the Contents for Debugging *)</span>
</div>
<div>
<span class="commandName">log</span> <span class="userDefine">a_dict's</span> <span class="userDefine">remove_for_key</span><span class="normal">(</span><span class="userDefine">scriptA</span><span class="normal">) </span><span class="comment">-- result : true</span>
</div>
<div>
<span class="userDefine">a_dict's</span> <span class="userDefine">dump</span><span class="normal">()</span>
</div>
<div>
<span class="comment">(* result :</span>
</div>
<div>
<span class="comment">&quot;key1	-&gt;	value1</span>
</div>
<div>
<span class="comment">key2	-&gt;	value2</span>
</div>
<div>
<span class="comment">&quot;</span>
</div>
<div>
<span class="comment">*)</span>
</div>
</div>
<h2 id="Constructer_Methods">Constructer Methods</h2>
<h3 id="make"><a href="pages/make.html">make</a></h3>
<p>Make an empty XDict instance</p>
<h3 id="make_with_pairs"><a href="pages/make_with_pairs.html">make_with_pairs</a></h3>
<p>Make a new XDict instance with a list of pair lists of a key and a value.</p>
<h3 id="make_with_lists"><a href="pages/make_with_lists.html">make_with_lists</a></h3>
<p>Make a XDict instance with a list of keys and a list of values.</p>
<h3 id="make_with_xlists"><a href="pages/make_with_xlists.html">make_with_xlists</a></h3>
<p>Make a XDict instance with a <a href="help:openbook='net.script-factory.XList.help'">XList</a> of keys and a <a href="help:openbook='net.script-factory.XList.help'">XList</a> of values.</p>
<h2 id="Instance_Methods">Instance Methods</h2>
<h3 id="value_for_key"><a href="pages/value_for_key.html">value_for_key</a></h3>
<p>Obtain a value associated with a specified key. If a key is not in a XDict, error number 900 will be rasied.</p>
<h3 id="key_for_value"><a href="pages/key_for_value.html">key_for_value</a></h3>
<p>Obtain a key associating a value. If a same value using "is" operator is not found, missing value is returened.</p>
<h3 id="set_value"><a href="pages/set_value.html">set_value</a></h3>
<p>Set a value associated with a key. If the key is not in the XDict, the key is added.</p>
<h3 id="has_key"><a href="pages/has_key.html">has_key</a></h3>
<p>Chack whether a passed value is icluded as a key value or not.</p>
<h3 id="remove_for_key"><a href="pages/remove_for_key.html">remove_for_key</a></h3>
<p>Remove a specified key and a associated value.</p>
<h3 id="all_keys"><a href="pages/all_keys.html">all_keys</a></h3>
<p>Obtain all keys as a list</p>
<h3 id="all_values"><a href="pages/all_values.html">all_values</a></h3>
<p>Obtain all values as a list</p>
<h3 id="count_keys"><a href="pages/count_keys.html">count_keys</a></h3>
<p>Obtain all keys as a list</p>
<h3 id="forget"><a href="pages/forget.html">forget</a></h3>
<p>Remove all keys and values</p>
<h2 id="Setting_and_Getting_Comparators">Setting and Getting Comparators</h2>
<h3 id="set_key_comparator"><a href="pages/set_key_comparator.html">set_key_comparator</a></h3>
<p>Set a key comparator script to the instance.</p>
<h3 id="set_value_comparator"><a href="pages/set_value_comparator.html">set_value_comparator</a></h3>
<p>Set a value comparator script to the instance.</p>
<h3 id="key_comparator"><a href="pages/key_comparator.html">key_comparator</a></h3>
<p>Obrain the key comprator of the XDict instance.</p>
<h3 id="value_comparator"><a href="pages/value_comparator.html">value_comparator</a></h3>
<p>Obrain the value comprator of the XDict instance.</p>
<h2 id="Obtain_Iterator_Object">Obtain Iterator Object</h2>
<h3 id="iterator"><a href="pages/iterator.html">iterator</a></h3>
<p>Make an iterator object of XDict. The iterator object return a pair list of key and a value i.e. {a_key, a_value} with <a href="pages/next.html">next</a>() handler.</p>
<h2 id="Methods_of_Iterator_Object">Methods of Iterator Object</h2>
<h3 id="has_next"><a href="pages/has_next.html">has_next</a></h3>
<p>Check whether next object can be obtained or not.</p>
<h3 id="next"><a href="pages/next.html">next</a></h3>
<p>Obtain a next pair of a key and its value.</p>
<h3 id="reset"><a href="pages/reset.html">reset</a></h3>
<p>Make a pair of a key and a value retuned by <a href="pages/next.html">next</a>() revert to first one.</p>
<h2 id="Loop_with_Script_Object">Loop with Script Object</h2>
<h3 id="each"><a href="pages/each.html">each</a></h3>
<p>Perform do handler of given script object with passing pair lists of each key and value as a argument.</p>
<h3 id="map"><a href="pages/map.html">map</a></h3>
<p>Perform do handler of given script object with passing pair lists of each key and value as a argument.　A <a href="help:openbook='net.script-factory.XList.help'">XList</a> consisting of the results of do handler is returned.</p>
<h3 id="map_as_list"><a href="pages/map_as_list.html">map_as_list</a></h3>
<p>Almost same to <a href="pages/map.html">map</a>, but a result of this method is AppleScript's list.</p>
<h2 id="Debugging">Debugging</h2>
<h3 id="dump"><a href="pages/dump.html">dump</a></h3>
<p>Dump keys and values in XDict as text. Use this method for debugging.</p>
		</div>
		<!-- InstanceBeginEditable name="prev-next-item" --><!-- InstanceEndEditable -->
	</body>

</html>